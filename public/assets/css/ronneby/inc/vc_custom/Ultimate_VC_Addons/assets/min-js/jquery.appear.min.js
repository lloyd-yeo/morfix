(function(e){e.fn.bsf_appear=function(t,n){var r=e.extend({data:undefined,one:true,accX:0,accY:0},n);return this.each(function(){var n=e(this);n.bsf_appeared=false;if(!t){n.trigger("bsf_appear",r.data);return}var i=e(window);var s=function(){if(!n.is(":visible")){n.bsf_appeared=false;return}var e=i.scrollLeft();var t=i.scrollTop();var s=n.offset();var o=s.left;var u=s.top;var a=r.accX;var f=r.accY;var l=n.height();var c=i.height();var h=n.width();var p=i.width();if(u+l+f>=t&&u<=t+c+f&&o+h+a>=e&&o<=e+p+a){if(!n.bsf_appeared)n.trigger("bsf_appear",r.data)}else{n.bsf_appeared=false}};var o=function(){n.bsf_appeared=true;if(r.one){i.unbind("scroll",s);var o=e.inArray(s,e.fn.bsf_appear.checks);if(o>=0)e.fn.bsf_appear.checks.splice(o,1)}t.apply(this,arguments)};if(r.one)n.one("bsf_appear",r.data,o);else n.bind("bsf_appear",r.data,o);i.scroll(s);e.fn.bsf_appear.checks.push(s);s()})};e.extend(e.fn.bsf_appear,{checks:[],timeout:null,checkAll:function(){var t=e.fn.bsf_appear.checks.length;if(t>0)while(t--)e.fn.bsf_appear.checks[t]()},run:function(){if(e.fn.bsf_appear.timeout)clearTimeout(e.fn.bsf_appear.timeout);e.fn.bsf_appear.timeout=setTimeout(e.fn.bsf_appear.checkAll,20)}});e.each(["append","prepend","after","before","attr","removeAttr","addClass","removeClass","toggleClass","remove","css","show","hide"],function(t,n){var r=e.fn[n];if(r){e.fn[n]=function(){var t=r.apply(this,arguments);e.fn.bsf_appear.run();return t}}})})(jQuery)