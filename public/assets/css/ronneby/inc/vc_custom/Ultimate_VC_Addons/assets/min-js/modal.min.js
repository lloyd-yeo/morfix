(function(){function r(e){var n="div.ult-overlay."+e;joverlay=document.querySelector(n);t=jQuery(n);var r=t.find(".ult_modal").outerHeight();var i=jQuery(window).outerHeight();if(i<r)jQuery("html").css({overflow:"hidden"});if(t.hasClass("ult-open")){t.removeClass("ult-open");t.addClass("ult-close");var s=function(e){if(support.transitions){if(e.propertyName!=="visibility")return;this.removeEventListener(transEndEventName,s)}t.removeClass("ult-close")};if(support.transitions){joverlay.addEventListener(transEndEventName,s);t.removeClass("ult-close");if(i<r)jQuery("html").css({overflow:"auto"})}else{s()}}else if(!t.hasClass("ult-close")){t.addClass("ult-open")}}function s(e){var t="div.overlay-cornershape."+e;var n=document.querySelector(t);var r=jQuery(t);var i=Snap(n.querySelector("svg")),s=i.select("path"),o={from:"m 0,0 1439.999975,0 0,805.99999 0,-805.99999 z ",to:" m 0,0 1439.999975,0 0,805.99999 -1439.999975,0 z  "};if(r.hasClass("ult-open")){r.removeClass("ult-open");r.addClass("ult-close");var u=function(e){r.removeClass("ult-close")};s.animate({path:o.from},400,mina.linear,u)}else if(!r.hasClass("ult-close")){r.addClass("ult-open");s.animate({path:o.to},400,mina.linear)}}function o(e){var t="div.overlay-genie."+e;var n=document.querySelector(t);var r=jQuery(t);var i=Snap(n.querySelector("svg")),s=i.select("path"),o=n.getAttribute("data-steps").split(";"),u=o.length;if(r.hasClass("ult-open")){var a=u-1;r.removeClass("ult-open");r.addClass("ult-close");var f=function(e){r.removeClass("ult-close")},l=function(e){e--;if(e<0)return;s.animate({path:o[e]},60,mina.linear,function(){if(e===0){f()}l(e)})};l(a)}else if(!r.hasClass("ult-close")){var a=0;r.addClass("ult-open");var l=function(e){e++;if(e>u-1)return;s.animate({path:o[e]},60,mina.linear,function(){l(e)})};l(a)}}function u(e){var t=e.length,n,r;while(0!==t){r=Math.floor(Math.random()*t);t-=1;n=e[t];e[t]=e[r];e[r]=n}return e}function a(e){var t="div.overlay-boxes."+e;var n=document.querySelector(t);var r=jQuery(t);var i=[].slice.call(n.querySelectorAll("svg > path")),s=i.length;var o=0;u(i);if(r.hasClass("ult-open")){r.removeClass("ult-open");r.addClass("ult-close");i.forEach(function(e,t){setTimeout(function(){++o;e.style.display="none";if(o===s){r.removeClass("ult-close")}},t*30)})}else if(!r.hasClass("ult-close")){r.addClass("ult-open");i.forEach(function(e,t){setTimeout(function(){e.style.display="block"},t*30)})}}function f(e){var t=jQuery("."+e).find(".ult_modal-content").height();var n=jQuery(window).height();if(t>n){jQuery("."+e).addClass("ult_modal-auto-top")}else{jQuery("."+e).removeClass("ult_modal-auto-top")}}var e=document.getElementsByClassName("overlay-show"),t=document.querySelector("div.ult-overlay"),n=t.querySelector("div.ult-overlay-close");transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},transEndEventName=transEndEventNames[bsfmodernizr.prefixed("transition")],support={transitions:bsfmodernizr.csstransitions};var i=jQuery(".overlay-show-cornershape").find("path").attr("d");jQuery(window).load(function(){var e=new Array;jQuery(".ult-onload").each(function(t){e.push(jQuery(this));setTimeout(function(){e[t].trigger("click")},parseInt(jQuery(this).data("onload-delay"))*1e3)});jQuery(".ult-vimeo iframe").each(function(e,t){var n=jQuery(this).attr("id");var r=jQuery(this)[0],i=$f(r);i.addEvent("ready",function(){i.addEvent("pause");i.addEvent("finish")})})});jQuery(document).ready(function(){jQuery(".ult-overlay").each(function(){jQuery(this).appendTo(document.body)});jQuery(".ult-overlay").show();jQuery(".overlay-show").each(function(e,t){var n=jQuery(this).data("class-id");jQuery("."+n).find(".ult-vimeo iframe").attr("id","video_"+n);jQuery("."+n).find(".ult-youtube iframe").attr("id","video_"+n)});var e=0;jQuery(".overlay-show").click(function(e){e.stopPropagation();var t=jQuery(this).data("class-id");jQuery("."+t).find(".ult-vimeo iframe").html(jQuery(".ult-vimeo iframe").html());jQuery("."+t).addClass(jQuery(this).data("overlay-class"));setTimeout(function(){jQuery("body, html").addClass("ult_modal-body-open");r(t);if(jQuery("."+t).hasClass("overlay-doorhorizontal")){setTimeout(function(){f(t)},500)}else{f(t)}},500)});jQuery(".overlay-show-cornershape").click(function(e){e.stopPropagation();var t=jQuery(this).data("class-id");jQuery("."+t).addClass("overlay-cornershape");s(t);jQuery("body, html").addClass("ult_modal-body-open");f(t)});jQuery("div.overlay-cornershape div.ult-overlay-close").click(function(e){e.stopPropagation();var t=jQuery(this).parents("div.overlay-cornershape").data("class");s(t);jQuery("body, html").removeClass("ult_modal-body-open");jQuery("html").css({overflow:"auto"})});jQuery(".overlay-show-boxes").click(function(e){e.stopPropagation();var t=jQuery(this).data("class-id");jQuery("."+t).addClass("overlay-boxes");a(t);jQuery("body, html").addClass("ult_modal-body-open");f(t)});jQuery("div.overlay-boxes div.ult-overlay-close").click(function(e){e.stopPropagation();var t=jQuery(this).parents("div.overlay-boxes").data("class");a(t);jQuery("body, html").removeClass("ult_modal-body-open");jQuery("html").css({overflow:"auto"})});jQuery(".overlay-show-genie").click(function(e){var t=jQuery(this).data("class-id");jQuery("."+t).addClass("overlay-genie");o(t);jQuery("body, html").addClass("ult_modal-body-open");f(t);jQuery("html").css({overflow:"auto"})});jQuery("div.overlay-genie div.ult-overlay-close").click(function(e){e.stopPropagation();var t=jQuery(this).parents("div.overlay-genie").data("class");o(t);jQuery("body, html").removeClass("ult_modal-body-open");jQuery("html").css({overflow:"auto"})});jQuery(".ult-overlay .ult-overlay-close").click(function(e){e.stopPropagation();var t=jQuery(this).parents(".ult-overlay").data("class");r(t);jQuery("body, html").removeClass("ult_modal-body-open");if(jQuery(this).parent().find(".ult-vimeo").length){var n=jQuery(this).parent().find(".ult-vimeo iframe");var i=n.attr("src");jQuery(this).parent().find(".ult-vimeo iframe").attr("src","");jQuery(this).parent().find(".ult-vimeo iframe").attr("src",i);var s=n[0],o=$f(s);o.api("pause")}else{var i=jQuery(this).parent().find(".ult-youtube iframe").attr("src");jQuery(this).parent().find(".ult-youtube iframe").attr("src","");jQuery(this).parent().find(".ult-youtube iframe").attr("src",i)}jQuery("html").css({overflow:"auto"})});jQuery(".ult-overlay .ult_modal").click(function(e){e.stopPropagation()});jQuery(".ult-overlay").click(function(e){e.stopPropagation();jQuery(this).find(".ult-overlay-close").trigger("click");jQuery("html").css({overflow:"auto"})})})})()